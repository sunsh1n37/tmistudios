<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>TMI News ‚Äî Tech. Magic. Innovation</title>
<meta name="description" content="TMI News brings you the latest in African tech, innovation, creators, and chaos." />
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;700&family=Space+Grotesk:wght@400;600&display=swap" rel="stylesheet">

<style>
/* General Styles */
body {
  font-family:'Space Grotesk',sans-serif;
  background:#fafafa;
  color:#111;
  margin:0;
  padding:0;
}

header {
  position: relative;
  text-align: center;
  padding:3rem 1rem 2rem 1rem;
  background:#000;
  color:#fff;
}

/* ‚úÖ Fixed Logo Glitch */
.logo {
  font-family: 'Orbitron', sans-serif;
  font-size: 3rem;
  text-transform: uppercase;
  color: white;
  position: relative;
  animation: flicker 2s infinite steps(2, end);
}

.logo::after {
  content: attr(data-text);
  position: absolute;
  left: 2px;
  top: 0;
  color: #00ffff;
  opacity: 0; /* invisible by default */
  clip-path: polygon(0 20%,100% 20%,100% 80%,0 80%);
  animation: glitch 1.2s infinite linear alternate-reverse;
}

@keyframes glitch {
  0%, 95%, 100% { opacity: 0; transform: translate(0, 0); }
  10%, 50%      { opacity: 0.5; transform: translate(-2px, 1px); }
  80%           { opacity: 0.3; transform: translate(2px, -1px); }
}

@keyframes flicker {
  0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% { opacity: 1; }
  20%, 24%, 55% { opacity: 0.85; }
}

.tagline {
  margin:0.5rem 0;
  font-size:1.2rem;
}

/* Navigation Styles */
.tmi-nav {
  position: absolute;
  top:1rem;
  right:2rem;
}
.tmi-nav .nav-links {
  list-style:none;
  margin:0;
  padding:0;
  display:flex;
}
.tmi-nav .nav-links li {
  margin-left:1rem;
}
.tmi-nav .nav-links a {
  text-decoration:none;
  color:#fff;
  font-weight:500;
  font-size:1rem;
  transition: color 0.3s;
}
.tmi-nav .nav-links a:hover { color:#00ffff; }
.home-link { display:flex; align-items:center; gap:0.3rem; }

/* Sections and Cards */
main {
  max-width:1100px;
  margin:2rem auto;
  padding:0 1rem;
}
h2 {
  font-family:'Orbitron',sans-serif;
  color:#111;
  border-left:4px solid #00ffff;
  padding-left:0.5rem;
  margin-bottom:1rem;
  text-transform:uppercase;
}
.card-grid {
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
  gap:1.5rem;
}
.card {
  background:#fff;
  border-radius:1rem;
  overflow:hidden;
  box-shadow:0 2px 10px rgba(0,0,0,0.1);
  transition:transform 0.2s;
}
.card:hover { transform:translateY(-5px); }
.card img {
  width:100%;
  height:180px;
  object-fit:cover;
}
.card-content { padding:1rem; }
.date { font-size:0.8rem; color:#666; margin-bottom:0.3rem; }
.read-more-btn {
  margin-top:0.5rem;
  background:#111;
  color:#fff;
  border:none;
  padding:0.6rem 1.2rem;
  border-radius:0.5rem;
  cursor:pointer;
  font-size:0.9rem;
  transition:background 0.3s;
}
.read-more-btn:hover { background:#00ffff; color:#111; }
.hidden { display:none; }

/* Algo Section Styles */
#algo-section {
  background:#2c2c2c;
  padding:1rem;
  margin-bottom:2rem;
  border-radius:1rem;
}
#algo-section h2 {
  color:#9b59b6;
  border-color:#9b59b6;
}
#algo-section .card {
  background:#3a3a3a;
  color:#fff;
}

/* Footer */
footer {
  background:#000;
  color:#fff;
  text-align:center;
  padding:2rem 1rem;
  font-size:0.9rem;
}
footer a { text-decoration: none; color: inherit; }
footer a:hover { text-decoration: underline; }

/* Share Buttons */
.share-btn {
  padding:0.5rem 0.75rem;
  border-radius:0.5rem;
  font-size:0.85rem;
  text-decoration:none;
  color:#fff;
  border:none;
  cursor:pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.share-btn.whatsapp { background:#25D366; }
.share-btn.telegram { background:#0088cc; }
.share-btn.twitter { background:#1DA1F2; }
.share-btn.copy-link-btn { background:#111; }
.share-btn:hover {
  transform: scale(1.1);
  box-shadow: 0 0 10px rgba(0,255,255,0.7),
              0 0 5px rgba(155,0,255,0.5);
}
</style>
</head>

<body>

<header>
  <h1 class="logo" data-text="TMI News">TMI News</h1>
  <nav class="tmi-nav">
    <ul class="nav-links">
      <li><a href="index.html" class="home-link">üè† Home</a></li>
    </ul>
  </nav>
  <p class="tagline">Tech | Magic | Innovation</p>
</header>

<main>
  <!-- Algo Section -->
  <section id="algo-section">
    <h2>The Algo Who Loved Sin</h2>
    <div id="algo-container" class="card-grid"></div>
  </section>

  <!-- Latest Stories Section -->
  <section id="news-section">
    <h2>Latest Stories</h2>
    <div id="news-container" class="card-grid"></div>
  </section>
</main>

<footer>
  <p>&copy; 2025 TMI Studios. All rights reserved.</p>
</footer>

<script>
// Fetch stories from news.json
fetch('news.json')
  .then(response => response.json())
  .then(data => {
    const algoContainer = document.getElementById('algo-container');
    const newsContainer = document.getElementById('news-container');

    // Algo Section
    const algoStories = data.stories.filter(s => s.section && s.section.toLowerCase() === 'algo');
    algoStories.forEach(story => createStoryCard(story, algoContainer));

    // Latest Stories Section
    const otherStories = data.stories.filter(s => !s.section || s.section.toLowerCase() !== 'algo');
    otherStories.forEach(story => createStoryCard(story, newsContainer));
  })
  .catch(err => console.error('Error loading news.json:', err));

function createStoryCard(story, container) {
  const storyId = "story-" + story.date.replace(/-/g,'') + "-" + Math.floor(Math.random()*1000);
  const card = document.createElement('div');
  card.classList.add('card');
  card.innerHTML = `
    <img src="${story.image}" alt="${story.headline}">
    <div class="card-content">
      <p class="date">${story.date}</p>
      <h3 id="${storyId}">${story.headline}</h3>
      <p>${story.preview}</p>
      <button class="read-more-btn">Read More</button>
      <div class="full-story hidden"><p>${story.fullStory}</p></div>
      <div class="share-buttons" style="margin-top:1rem; display:flex; gap:0.5rem; flex-wrap:wrap;">
        <a href="https://wa.me/?text=${encodeURIComponent(story.headline)}" target="_blank" class="share-btn whatsapp">üì≤ WhatsApp</a>
        <a href="https://t.me/share/url?url=${window.location.href}#${storyId}&text=${encodeURIComponent(story.headline)}" target="_blank" class="share-btn telegram">‚úàÔ∏è Telegram</a>
        <a href="https://twitter.com/intent/tweet?text=${encodeURIComponent(story.headline)}" target="_blank" class="share-btn twitter">üê¶ Twitter</a>
        <button class="share-btn copy-link-btn">üìã Copy Link</button>
      </div>
    </div>
  `;

  const readBtn = card.querySelector('.read-more-btn');
  const fullStoryDiv = card.querySelector('.full-story');
  readBtn.addEventListener('click', () => {
    fullStoryDiv.classList.toggle('hidden');
    readBtn.textContent = fullStoryDiv.classList.contains('hidden') ? 'Read More' : 'Show Less';
  });

  const copyBtn = card.querySelector('.copy-link-btn');
  copyBtn.addEventListener('click', () => {
    const url = `${window.location.href}#${storyId}`;
    navigator.clipboard.writeText(url)
      .then(() => {
        copyBtn.textContent = '‚úÖ Copied';
        setTimeout(()=>{copyBtn.textContent='üìã Copy Link'},1500);
      });
  });

  container.appendChild(card);
}
</script>

</body>
</html>
