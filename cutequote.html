<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Gramvas â€” TMI Studios</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Montserrat:wght@600&family=Pacifico&family=Great+Vibes&family=Oswald:wght@600&family=Amatic+SC:wght@700&family=Lobster&family=Sacramento&family=Dancing+Script&family=Caveat&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box}
body{margin:0;font-family:Montserrat,sans-serif;background:#0f0f14;color:#fff}

/* ===== NAV ===== */
nav{
  position:sticky;
  top:0;
  background:#111;
  padding:12px 16px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  z-index:100;
}

nav .logo a{
  color:#fff;
  font-weight:700;
  text-decoration:none;
  font-size:20px;
}

nav .menu{
  position:relative;
  font-size:22px;
  cursor:pointer;
  user-select:none;
}

nav .dropdown{
  display:none;
  position:absolute;
  right:0;
  top:36px;
  background:#181820;
  border-radius:10px;
  overflow:hidden;
  min-width:160px;
  box-shadow:0 6px 20px rgba(0,0,0,.4);
}

nav .dropdown a{
  display:block;
  padding:12px 16px;
  color:#fff;
  text-decoration:none;
  font-size:14px;
}

nav .dropdown a:hover{
  background:#222;
}

/* ===== APP ===== */
main{max-width:420px;margin:auto;padding:16px}

canvas{
  width:100%;
  border-radius:14px;
  background:#222;
  margin-bottom:12px;
  cursor:grab;
}

.section{
  background:#181820;
  border-radius:14px;
  padding:14px;
  margin-bottom:14px;
}

input,select,button{
  width:100%;
  padding:10px;
  margin:6px 0;
  border-radius:10px;
  border:none;
  font-size:14px;
}

button{
  background:#ff6ec7;
  font-weight:600;
  cursor:pointer;
}

.grid{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:8px;
}

.bg{
  height:60px;
  border-radius:10px;
  cursor:pointer;
  background-size:cover;
  background-position:center;
}

.bg.locked{
  opacity:.35;
  border:2px dashed #ff6ec7;
}

.quote{
  background:#222;
  padding:10px;
  border-radius:10px;
  margin-bottom:8px;
  cursor:pointer;
}

.quote.locked{opacity:.4}

/* ===== FOOTER ===== */
footer{
  text-align:center;
  font-size:12px;
  opacity:.6;
  padding:20px;
}

footer a{
  text-decoration:none;
  color:inherit;
  margin:0 6px;
}

/* ===== PAYWALL ===== */
#paywall{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.7);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:999;
}

#paywall .box{
  background:#181820;
  padding:20px;
  border-radius:16px;
  text-align:center;
  width:80%;
  max-width:300px;
}
</style>
</head>

<body>

<nav>
  <div class="logo"><a href="index.html">TMI Studios</a></div>
  <div class="menu" id="hamburger">â˜°
    <div class="dropdown" id="menuDropdown">
      <a href="lab.html">Lab</a>
      <a href="arcade.html">Arcade</a>
      <a href="contact.html">Contact</a>
      <a href="about.html">About</a>
      <a href="packages.html">Packages</a>
    </div>
  </div>
</nav>

<main>

<canvas id="canvas" width="1080" height="1080"></canvas>

<div class="section">
  <input id="quoteInput" placeholder="Type your quoteâ€¦" />
  <input id="emojiInput" placeholder="Optional emoji âœ¨" />
  <label>
    <input type="checkbox" checked disabled>
    Watermark (Premium ðŸ”’)
  </label>
</div>

<div class="section">
  <select id="fontSelect">
    <option style="font-family:'Playfair Display'">Playfair Display</option>
    <option style="font-family:'Montserrat'">Montserrat</option>
    <option style="font-family:'Pacifico'">Pacifico</option>
    <option style="font-family:'Great Vibes'">Great Vibes</option>
    <option style="font-family:'Oswald'">Oswald</option>
    <option style="font-family:'Amatic SC'">Amatic SC ðŸ”’</option>
    <option style="font-family:'Lobster'">Lobster ðŸ”’</option>
    <option style="font-family:'Sacramento'">Sacramento ðŸ”’</option>
    <option style="font-family:'Dancing Script'">Dancing Script ðŸ”’</option>
    <option style="font-family:'Caveat'">Caveat ðŸ”’</option>
  </select>
</div>

<div class="section">
  <label>Text Size</label>
  <input type="range" id="textSize" min="40" max="140" value="72">
  <label>Text Color</label>
  <input type="color" id="textColor" value="#ffffff">
  <label>Post Size</label>
  <select id="postSize">
    <option value="ig">Instagram (1080Ã—1080)</option>
    <option value="fb">Facebook (1200Ã—630)</option>
    <option value="x">X / Twitter (1200Ã—675)</option>
  </select>
</div>

<div class="section">
<h4>Backgrounds</h4>
<div class="grid">
  <div class="bg" style="background:#000" onclick="setColor('#000')"></div>
  <div class="bg" style="background:#ffdac1" onclick="setColor('#ffdac1')"></div>
  <div class="bg" style="background:#fdd7ff" onclick="setColor('#fdd7ff')"></div>
  
<!-- FREE IMAGES -->
<div class="bg" style="background:url('https://images.unsplash.com/photo-1446776811953-b23d57bd21aa?auto=format&fit=crop&w=150') center/cover" onclick="setImg('sky')"></div>
<div class="bg" style="background:url('https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?auto=format&w=150') center/cover" onclick="setImg('clouds')"></div>
<div class="bg" style="background:url('https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&w=150') center/cover" onclick="setImg('beachFree')"></div>

<!-- PREMIUM IMAGES -->
<div class="bg locked" style="background:url('https://images.pexels.com/photos/931162/pexels-photo-931162.jpeg') center/cover" onclick="showPaywall()"></div>
<div class="bg locked" style="background:url('https://images.pexels.com/photos/255379/pexels-photo-255379.jpeg') center/cover" onclick="showPaywall()"></div>
<div class="bg locked" style="background:url('https://images.pexels.com/photos/1257860/pexels-photo-1257860.jpeg') center/cover" onclick="showPaywall()"></div>

</div>
</div>
</div>

<div class="section">
<button onclick="downloadImg()">Download Quote</button>
</div>

<div class="section">
<h4>Trending Quotes ðŸ”¥</h4>
<div class="quote" onclick="useQuote(this)">I am the plot twist.</div>
<div class="quote" onclick="useQuote(this)">Soft life, sharp mind.</div>
<div class="quote" onclick="useQuote(this)">Chosen. Always.</div>
<div class="quote locked" onclick="showPaywall()">âœ¨ I donâ€™t chase. I attract.</div>
<div class="quote locked" onclick="showPaywall()">âœ¨ Everything bends in my favour.</div>
<div class="quote locked" onclick="showPaywall()">âœ¨ Soft life is a strategy.</div>
</div>

</main>

<footer>
  <div>
    <a href="https://tinyurl.com/mwfd4d73" target="_blank"><i class="fab fa-tiktok"></i></a>
    <a href="https://facebook.com/tmistudios" target="_blank"><i class="fab fa-facebook"></i></a>
    <a href="https://whatsapp.com/channel/0029Vb5jDfqB4hdUr7W2Nt1H" target="_blank">
      <i class="fab fa-whatsapp"></i>
    </a>
  </div>
  <p>Â© 2025 TMI Studios</p>
  <p>
    <a href="/arcade.html">Arcade</a> Â·
    <a href="/privacy.html">Privacy</a> Â·
    <a href="/termsofuse.html">Terms</a>
  </p>
</footer>

<div id="paywall">
  <div class="box">
    <h3>âœ¨ Premium âœ¨</h3>
    <p>Unlock fonts, images & remove watermark</p>
    <button onclick="closePaywall()">Maybe later</button>
  </div>
</div>

<script>
/* ===== NAV TOGGLE ===== */
const hamburger = document.getElementById('hamburger');
const dropdown = document.getElementById('menuDropdown');

hamburger.addEventListener('click', e => {
  e.stopPropagation();
  dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
});

document.addEventListener('click', () => {
  dropdown.style.display = 'none';
});

/* ===== GRAB ELEMENTS ===== */
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');

const quoteInput = document.getElementById('quoteInput');
const emojiInput = document.getElementById('emojiInput');
const fontSelect = document.getElementById('fontSelect');
const textSize = document.getElementById('textSize');
const textColor = document.getElementById('textColor');
const postSize = document.getElementById('postSize');

let bgType = 'color', bgValue = '#333', bgImg = null;
let textX = canvas.width / 2, textY = canvas.height / 2;
let dragging = false;

/* ===== DRAW CANVAS ===== */
function draw() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  if(bgType === 'image' && bgImg) ctx.drawImage(bgImg, 0, 0, canvas.width, canvas.height);
  else { ctx.fillStyle = bgValue; ctx.fillRect(0, 0, canvas.width, canvas.height); }

  const q = quoteInput.value || "Your quote here âœ¨";
  const e = emojiInput.value;
  const font = fontSelect.value.replace(' ðŸ”’', '');
  ctx.fillStyle = textColor.value;
  ctx.textAlign = "center";
  ctx.font = `bold ${textSize.value}px ${font}`;

  if(e) ctx.fillText(e, textX, textY - parseInt(textSize.value) * 1.6);
  wrapText(q, textX, textY, canvas.width - 100, parseInt(textSize.value) + 10);

  // watermark
  ctx.globalAlpha = 0.5;
  ctx.font = "20px Montserrat";
  ctx.textAlign = "right";
  ctx.fillText("Gramvas Â· TMI Studios", canvas.width - 20, canvas.height - 20);
  ctx.globalAlpha = 1;
}

function wrapText(text, x, y, maxWidth, lineHeight) {
  const words = text.split(' ');
  let line = '';
  let yy = y;
  for(let i = 0; i < words.length; i++){
    const test = line + words[i] + ' ';
    if(ctx.measureText(test).width > maxWidth){
      ctx.fillText(line, x, yy);
      line = words[i] + ' ';
      yy += lineHeight;
    } else line = test;
  }
  ctx.fillText(line, x, yy);
}

/* ===== BACKGROUNDS ===== */
function setColor(c){ bgType='color'; bgValue=c; bgImg=null; draw(); }
function setImg(type){
  const map = {
    sky:'https://images.unsplash.com/photo-1446776811953-b23d57bd21aa?auto=format&w=800',
    clouds:'https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?auto=format&w=800',
    beachFree:'https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&w=800'
  };
  const i = new Image(); i.crossOrigin = "anonymous";
  i.src = map[type];
  i.onload = () => { bgType='image'; bgImg=i; draw(); }
}

/* ===== DOWNLOAD IMAGE ===== */
function downloadImg() {
  const a = document.createElement('a');
  a.download = 'gramvas.png';
  a.href = canvas.toDataURL();
  a.click();
}

/* ===== PAYWALL ===== */
function showPaywall(){ document.getElementById('paywall').style.display = 'flex'; }
function closePaywall(){ document.getElementById('paywall').style.display = 'none'; }

/* ===== QUOTE CLICK ===== */
function useQuote(el) {
  quoteInput.value = el.textContent;
  draw();
}

/* ===== CANVAS DRAG ===== */
canvas.addEventListener('mousedown', ()=>dragging=true);
canvas.addEventListener('mousemove', e=>{
  if(!dragging) return;
  const r = canvas.getBoundingClientRect();
  textX = (e.clientX - r.left) * (canvas.width / r.width);
  textY = (e.clientY - r.top) * (canvas.height / r.height);
  draw();
});
canvas.addEventListener('mouseup', ()=>dragging=false);
canvas.addEventListener('mouseleave', ()=>dragging=false);

/* ===== POST SIZE SELECTOR ===== */
postSize.addEventListener('change', ()=>{
  const val = postSize.value;
  if(val==='ig'){ canvas.width=1080; canvas.height=1080; }
  else if(val==='fb'){ canvas.width=1200; canvas.height=630; }
  else if(val==='x'){ canvas.width=1200; canvas.height=675; }
  textX = canvas.width/2; textY = canvas.height/2;
  draw();
});

/* ===== INPUT LISTENERS ===== */
[quoteInput, emojiInput, fontSelect, textSize, textColor].forEach(el => el.addEventListener('input', draw));

draw();
</script>

</body>
</html>