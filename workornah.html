<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Work or Nah? | TMI Studios Lab</title>
<meta name="description" content="Flip the coin and decide your fate ‚Äî Work or Nah? Best of 5 rounds. Quick, fun, and only at TMI Studios Arcade." />

<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700&display=swap" rel="stylesheet" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />

<!-- html2canvas for card rendering -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>
:root {
  --accent: #ffcc66;
  --bg: radial-gradient(circle at top, #111, #000);
}

body {
  background: var(--bg);
  color: #fff;
  font-family: "Space Grotesk", sans-serif;
  display: flex;
  flex-direction: column;
  align-items: center;
  min-height: 100vh;
  margin: 0;
  text-align: center;
}

nav {
  width: 100%;
  background: rgba(0,0,0,0.7);
  display: flex;
  justify-content: center;
  padding: 15px 0;
  box-shadow: 0 0 10px rgba(255,204,102,0.2);
  position: fixed;
  top:0;
  left:0;
  z-index:100;
}

nav a {
  color: #fff;
  text-decoration: none;
  margin: 0 15px;
  font-weight: 600;
  transition: 0.3s;
}

nav a:hover {
  color: var(--accent);
  text-shadow: 0 0 8px var(--accent);
}

h1 {
  font-size: 2rem;
  letter-spacing: 2px;
  text-transform: uppercase;
  color: var(--accent);
  margin-top: 100px;
  text-shadow: 0 0 10px var(--accent);
}

main {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 100%;
  max-width: 400px;
}

.coin {
  width: 180px;
  height: 180px;
  border-radius: 50%;
  background: linear-gradient(145deg, #222, #444);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 2rem;
  color: #fff;
  box-shadow: 0 0 20px rgba(255, 204, 102, 0.3);
  position: relative;
  transform-style: preserve-3d;
  transition: transform 1s ease-in-out;
  margin-top: 40px;
}

.coin::before, .coin::after {
  content: attr(data-text);
  position: absolute;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  backface-visibility: hidden;
  font-weight: 700;
}

.coin::before {
  background: radial-gradient(circle, var(--accent) 10%, #b8860b 90%);
  color: #111;
  transform: rotateY(0deg);
}

.coin::after {
  background: radial-gradient(circle, #444, #000);
  color: var(--accent);
  transform: rotateY(180deg);
}

button {
  background: var(--accent);
  color: #111;
  border: none;
  border-radius: 50px;
  padding: 12px 35px;
  font-size: 1rem;
  cursor: pointer;
  margin-top: 30px;
  transition: all 0.3s ease;
  text-transform: uppercase;
  font-weight: bold;
  box-shadow: 0 0 10px rgba(255, 204, 102, 0.6);
}

button:hover {
  background: #fff;
  color: #000;
  box-shadow: 0 0 20px rgba(255, 204, 102, 0.9);
}

.scoreboard {
  margin-top: 20px;
  font-size: 1rem;
  color: var(--accent);
}

.verdict {
  margin-top: 10px;
  font-size: 1.2rem;
  font-style: italic;
  color: var(--accent);
  min-height: 1.5em;
}

.notification {
  margin-top: 20px;
  background: var(--accent);
  color: #111;
  padding: 10px 20px;
  border-radius: 8px;
  font-weight: 600;
  box-shadow: 0 0 10px rgba(255, 204, 102, 0.8);
  opacity: 0;
  transition: all 0.4s ease;
  pointer-events: none;
}

.cta-container {
  display: flex;
  gap: 20px;
  margin: 40px 0;
  flex-wrap: wrap;
  justify-content: center;
}

.cta-btn {
  background: linear-gradient(135deg, #ff416c, #ff4b2b);
  color: #fff;
  border: none;
  border-radius: 50px;
  padding: 12px 24px;
  font-weight: bold;
  cursor: pointer;
  transition: 0.3s;
}

.cta-btn:hover {
  transform: scale(1.05);
  box-shadow: 0 0 10px rgba(255, 75, 43, 0.6);
}

.cta-btn.alt {
  background: linear-gradient(135deg, #29b6f6, #0288d1);
}

footer.footer {
  background: #111;
  color: #fff;
  text-align: center;
  padding: 30px 20px;
  font-size: 14px;
}

footer.footer a {
  color: #fff;
  text-decoration: none;
}

footer.footer i {
  color: #fff;
  margin: 0 8px;
}

/* Overlay */
#overlay {
  position: fixed;
  top:0; left:0; width:100%; height:100%;
  background: rgba(0,0,0,0.6);
  display:none;
  z-index:999;
}

#overlay.show { display:block; }

/* Share Card Modal */
#shareCardModal {
  position: fixed;
  top:50%; left:50%;
  transform: translate(-50%, -50%);
  background: linear-gradient(135deg,#111,#222);
  color:#fff;
  padding: 30px 25px;
  border-radius: 20px;
  width: 400px;
  max-width: 90%;
  text-align:center;
  box-shadow: 0 0 30px rgba(255,204,102,0.7);
  display:none;
  z-index:1000;
}

#shareCardModal.show { display:block; }

#shareCardModal h2 {
  color: #ffcc66;
  margin-bottom: 10px;
}

#shareCardModal .ctaText {
  color: #ccc;
  font-size: 0.95rem;
  margin-bottom: 20px;
}

.modalCoin {
  width: 180px;
  height: 180px;
  margin: 0 auto 20px auto;
  border-radius: 50%;
  background: linear-gradient(145deg, #222, #444);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 2rem;
  color: #fff;
  box-shadow: 0 0 20px rgba(255, 204, 102, 0.3);
  position: relative;
  transform-style: preserve-3d;
}

.modalCoin::before, .modalCoin::after {
  content: attr(data-text);
  position: absolute;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  backface-visibility: hidden;
  font-weight: 700;
}

.modalCoin::before {
  background: radial-gradient(circle, #ffcc66 10%, #b8860b 90%);
  color: #111;
  transform: rotateY(0deg);
}

.modalCoin::after {
  background: radial-gradient(circle, #444, #000);
  color: #ffcc66;
  transform: rotateY(180deg);
}

.modalBtns {
  display: flex;
  justify-content: center;
  gap: 15px;
  margin-top: 20px;
}

.downloadBtn, .closeBtn {
  background: #ffcc66;color: #111;
  border: none;
  border-radius: 50px;
  padding: 10px 20px;
  cursor: pointer;
  font-weight: bold;
  transition: 0.3s;
}

.downloadBtn:hover, .closeBtn:hover {
  background: #fff;
  color: #000;
  box-shadow: 0 0 15px rgba(255, 204, 102, 0.8);
}

.byline {
  color: #ccc;
  font-size: 0.85rem;
  margin-top: 10px;
}

</style>
</head>
<body>

<nav>
  <a href="/index.html">TMI Studios</a>
  <a href="/arcade.html">Arcade</a>
  <a href="/packages.html">Packages</a>
  <a href="/aboutus.html">About</a>
  <a href="/contactus.html">Contact</a>
</nav>

<main>
  <h1>Work or Nah?</h1>
  <div class="coin" id="coin" data-text="Yah"></div>
  <div class="notification" id="notification"></div>
  <button id="flipButton">Flip Coin</button>
  <div class="scoreboard" id="score">Yah: 0 | Nah: 0</div>
  <div class="verdict" id="verdict"></div>

  <div class="cta-container">
    <button class="cta-btn" onclick="window.location.href='/contactus.html'">Contact Us</button>
    <button class="cta-btn alt" onclick="window.location.href='/arcade.html'">See More Games</button>
    <button class="cta-btn" onclick="openShareCard()">Share Your Result</button>
  </div>

  <p style="font-size:0.8rem;color:#aaa;">*For entertainment purposes only. Go to work, you're grown.</p>
</main>

<!-- Overlay & Share Card Modal -->
<div id="overlay"></div>
<div id="shareCardModal">
  <h2>Work or Nah?</h2>
  <div class="modalCoin" id="modalCoin" data-text="Yah"></div>
  <p class="ctaText">Feeling too cool to toil today? Let the coin decide!</p>
  <p id="modalScore">Yah: 0 | Nah: 0</p>
  <p id="modalVerdict">Final verdict here</p>
  <p class="byline">By TMI Studios</p>
  <div class="modalBtns">
    <button class="downloadBtn" onclick="downloadCard()">Download Card</button>
    <button class="closeBtn" onclick="closeShareCard()">Close</button>
  </div>
</div>

<canvas id="confettiCanvas"></canvas>

<footer class="footer">
  <div style="margin-bottom:1rem;">
    <span>Follow us:</span>
    <a href="https://tinyurl.com/mwfd4d73" target="_blank"><i class="fab fa-tiktok fa-lg"></i></a>
    <a href="https://whatsapp.com/channel/0029Vb5jDfqB4hdUr7W2Nt1H" target="_blank"><i class="fab fa-whatsapp fa-lg"></i></a>
    <a href="https://facebook.com" target="_blank"><i class="fab fa-facebook fa-lg"></i></a>
  </div>
  <p>&copy; 2025 TMI Studios. All rights reserved.</p>
  <p><a href="/contactus.html">Need a website or viral design? Let's build it!</a></p>
  <p><a href="/arcade.html">Arcade</a></p>
</footer>

<script>
const coin = document.getElementById("coin");
const button = document.getElementById("flipButton");
const scoreEl = document.getElementById("score");
const verdictEl = document.getElementById("verdict");
const notification = document.getElementById("notification");

let yahScore = 0;
let nahScore = 0;
let flips = 0;
let isFlipping = false;

// Sounds
const flipSound = new Audio("https://freesound.org/data/previews/341/341695_62424-lq.mp3");
const verdictSound = new Audio("https://freesound.org/data/previews/320/320655_493943-lq.mp3");

// HR notifications
const hrMessages = [
  "HR just sighed loudly...",
  "Boss is watching your WhatsApp posts üëÄ",
  "Slack status set to 'offline' üò¨",
  "Team meeting in 5... oh wait, you're 'sick' ü§ß",
  "PTO request denied ‚Äî chaos mode activated üî•",
  "HR pretending they didn't see your Insta story üëÄ"
];

// Verdicts
const yahVerdicts = [
  "Free coffee and WiFi awaits ‚òïüíª",
  "Time to go conquer that job you prayed for üôå",
  "Boss will pretend to notice you‚Ä¶ maybe üòé",
  "Another day, another chance to shine ‚ú®"
];

const nahVerdicts = [
  "HR just spotted your sick day story üëÄ",
  "Clock in or scroll TikTok? Decisions, decisions üòè",
  "Congrats, your desk misses you already ü™ë",
  "PTO approved? Not today, sweetie üòà"
];

function showNotification() {
  const msg = hrMessages[Math.floor(Math.random() * hrMessages.length)];
  notification.textContent = msg;
  notification.style.opacity= "1";
  setTimeout(() => { notification.style.opacity = "0"; }, 1800);
}

function updateScore() {
  scoreEl.textContent = `Yah: ${yahScore} | Nah: ${nahScore}`;
}

function fireConfetti() {
  confetti({ particleCount: 80, spread: 70, origin: { y: 0.6 } });
}

function finalVerdict() {
  const winner = yahScore > nahScore ? "Yah" : "Nah";
  const comment = winner === "Yah" 
      ? yahVerdicts[Math.floor(Math.random() * yahVerdicts.length)]
      : nahVerdicts[Math.floor(Math.random() * nahVerdicts.length)];
  verdictEl.textContent = `Final verdict: ${winner} wins ‚Äî ${comment}`;
  verdictSound.play();
  fireConfetti();
  button.textContent = "Play Again";
}

button.addEventListener("click", () => {
  if (isFlipping) return;
  isFlipping = true;

  if (flips >= 5) {
    yahScore = 0;
    nahScore = 0;
    flips = 0;
    verdictEl.textContent = "";
    updateScore();
    button.textContent = "Flip Coin";
    isFlipping = false;
    coin.setAttribute("data-text", "Yah");
    coin.style.transform = "rotateY(0deg)";
    return;
  }

  coin.style.transition = "none";
  coin.style.transform = "rotateY(0deg)";
  void coin.offsetWidth;

  const isYah = Math.random() < 0.5;
  const nextSide = isYah ? "Yah" : "Nah";
  const angle = nextSide === "Yah" ? 720 : 900;

  flipSound.play();
  coin.style.transition = "transform 1s ease-in-out";
  coin.style.transform = `rotateY(${angle}deg)`;

  showNotification();

  setTimeout(() => {
    coin.setAttribute("data-text", nextSide);
    flips++;
    if (isYah) yahScore++; else nahScore++;
    updateScore();
    if (flips === 5) finalVerdict();
    isFlipping = false;
  }, 1000);
});

// --- Share Card Modal ---
const modal = document.getElementById("shareCardModal");
const overlay = document.getElementById("overlay");
const modalCoin = document.getElementById("modalCoin");

function openShareCard() {
  const winner = yahScore >= nahScore ? "Yah" : "Nah";
  modalCoin.setAttribute("data-text", winner);
  document.getElementById("modalScore").textContent = `Yah: ${yahScore} | Nah: ${nahScore}`;
  document.getElementById("modalVerdict").textContent = verdictEl.textContent || "Flip the coin to get your verdict!";
  overlay.classList.add("show");
  modal.classList.add("show");
}

function closeShareCard() {
  overlay.classList.remove("show");
  modal.classList.remove("show");
}

// Download modal as image
function downloadCard() {
  html2canvas(modal).then(canvas => {
    const link = document.createElement("a");
    link.href = canvas.toDataURL("image/png");
    link.download = "work-or-nah-result.png";
    link.click();
  });
}

overlay.addEventListener("click", closeShareCard);
</script>
</body>
</html>
